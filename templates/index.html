<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>My AI Room</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div id="app">
    <aside class="sidebar">
        <div class="logo">
            <span class="logo-dot"></span>
            <span class="logo-text">My AI Rooms</span>
        </div>
        <button id="new-room-btn" class="primary-btn">+ ห้องใหม่</button>
        <div class="room-list" id="room-list">
            <!-- rooms fill by JS -->
        </div>
    </aside>

    <main class="main">
        <header class="topbar">
            <div class="room-title">
                <span id="current-room-name">ห้องหลัก</span>
            </div>
        </header>

        <section class="chat-area">
            <div id="messages" class="messages"></div>
        </section>

        <section class="bottom-panel">
            <div class="tabs">
                <button class="tab-btn active" data-tab="chat">สนทนา</button>
                <button class="tab-btn" data-tab="image">สร้างรูป</button>
                <button class="tab-btn" data-tab="zip">สร้างไฟล์ .zip</button>
            </div>

            <div class="tab-content active" id="tab-chat">
                <textarea id="chat-input" placeholder="พิมพ์คุยกับ AI ..."></textarea>
                <button id="send-chat" class="primary-btn">ส่ง</button>
            </div>

            <div class="tab-content" id="tab-image">
                <textarea id="image-prompt" placeholder="อธิบายรูปที่อยากให้ AI วาด เช่น 'ตัวละครอนิเมะยืนอยู่หน้าทะเล กลางคืน'"></textarea>
                <button id="generate-image" class="primary-btn">สร้างรูป</button>
                <div id="image-result" class="image-result"></div>
            </div>

            <div class="tab-content" id="tab-zip">
                <p class="hint-text">
                    ให้ AI ช่วยเขียนโค้ด แล้วนำมาวางด้านล่างเป็นไฟล์ต่าง ๆ จากนั้นกด "ดาวน์โหลด ZIP"
                </p>
                <textarea id="zip-files-json" class="mono" rows="6" placeholder='[
  {"filename": "main.py", "content": "print(\\"hello\\")"},
  {"filename": "README.txt", "content": "สร้างจาก AI"}
]'></textarea>
                <button id="download-zip" class="primary-btn">ดาวน์โหลด ZIP</button>
            </div>
        </section>
    </main>
</div>

<script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
